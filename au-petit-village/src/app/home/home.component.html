<div class="home">
    <section class="hero">
        <div class="hero-content text-center">
            <h1>Bienvenue Au Petit Village</h1>
            <p>Découvrez nos produits et notre histoire.</p>
            <div class="cta-buttons">
                <a href="#about" class="btn btn-primary">Mieux nous connaître</a>
                <a href="#products" class="btn btn-secondary">Notre boutique</a>
            </div>
        </div>
    </section>
    <div class="section-separator row justify-content-center">
        <div class="col-6">
            <div class="separator-line"></div>
        </div>
    </div>
    <section id="about" class="about">
        <div class="card about-content mb-3">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="/images/banner/figurine-gaulois-suivez-moi.jpg" class="img-fluid rounded-start"
                        alt="Figurine Gaulois pointant le texte">
                </div>
                <div class="col-md-8 about-text">
                    <div class="card-body">
                        <h2 class="card-title">À Propos de Nous</h2>
                        <p class="card-text">“Au petit village” est une entreprise qui confectionne des figurines
                            inspirées de la bande dessinée Astérix et Obélix. Elle cible une population jeune entre 30
                            et 55 ans, nostalgique des aventures des célèbres Gaulois.</p>
                        <div class="cta-buttons">
                            <a href="/about" class="btn btn-primary">En savoir plus</a>
                        </div>
                        <div class="card m-3">
                            <img src="/images/banner/figurine-nos-heros.jpg" class="img-fluid rounded"
                                alt="Figurine des héros Gaulois">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="section-separator row justify-content-center">
        <div class="col-6">
            <div class="separator-line"></div>
        </div>
    </div>
    <section id="products" class="products">
        <div class="card">
            <div class="card-header products-header">
                <div class="card-title">
                    <h2>Notre boutique</h2>
                    <h3 class="text-center">
                        Nos Produits
                        <span *ngIf="selectedProductTag"> - taggué : {{ selectedProductTag }} - </span>
                        <span *ngIf="isSortEnabled">
                            triés par prix
                            <span *ngIf="sortOrder === 'asc'">croissant</span>
                            <span *ngIf="sortOrder === 'desc'">décroissant</span>
                        </span>
                        <span *ngIf="!isSortEnabled">non triés</span>
                    </h3>
                </div>
                <div class="product-filters d-flex flex-wrap align-items-center">
                    <div class="filter-sort d-flex flex-row align-items-center gap-3">
                        <div class="filter-btn">
                            <input class="filter-item" type="checkbox" [(ngModel)]="isSortEnabled"
                                (change)="onSortEnabledChange()" id="sortCheckbox">
                            <label class="filter-item" for="sortCheckbox">Trier</label>
                        </div>
                        <div class="radio-group d-flex flex-column" *ngIf="isSortEnabled">
                            <div class="filter-btn d-flex flex-row gap-1">
                                <input class="filter-item" type="radio" [(ngModel)]="sortOrder" value="asc"
                                    id="sortAsc">
                                <label class="filter-item" for="sortAsc">Prix croissant</label>
                            </div>
                            <div class="filter-btn d-flex flex-row gap-1">
                                <input class="filter-item" type="radio" [(ngModel)]="sortOrder" value="desc"
                                    id="sortDesc">
                                <label class="filter-item" for="sortDesc">Prix décroissant</label>
                            </div>
                        </div>
                    </div>
                    <div class="filter-search d-flex flex-row align-items-center gap-3">
                        <div class="filter-btn">
                            <input class="filter-item" type="checkbox" [(ngModel)]="isSearchEnabled"
                                (change)="onSearchEnabledChange()" id="searchCheckbox">
                            <label class="filter-item" for="searchCheckbox">Rechercher</label>
                        </div>
                        <div class="filter-btn" *ngIf="isSearchEnabled">
                            <select class="filter-btn form-control" [(ngModel)]="selectedProductTag"
                                (change)="onProductTagChange($event)">
                                <option value="" disabled selected>Rechercher par nom</option>
                                <option *ngFor="let productTag of productTags" [value]="productTag">
                                    {{ productTag }}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-6 col-lg-4 col-xl-3 mb-3"
                        *ngFor="let product of products | filterByName:selectedProductTag | sortByPrice:sortOrder">
                        <div class="card h-100 product-card" (click)="viewProduct(product)">
                            <img src="{{product.image}}" class="card-img-top product-image" alt="{{product.name}}">
                            <div class="card-body d-flex flex-column">
                                <h3 class="card-title">{{product.name}}</h3>
                                <p class="card-text">{{product.legende}}</p>
                                <p class="card-text mt-auto"><strong>{{product.price | currency:'EUR'}}</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="section-separator row justify-content-center">
        <div class="col-6">
            <div class="separator-line"></div>
        </div>
    </div>
    <section id="contact" class="contact">
        <div class="card contact-content mb-3">
            <div class="row g-0 flex-column flex-md-row align-items-end">
                <div class="col-md-5">
                    <img src="/images/banner/figurine-gaulois-satisfait.jpg" class="img-fluid rounded-start"
                        alt="Figurine Gaulois satisfait de vous satisfaire">
                </div>
                <div class="col-md-7 contact-text">
                    <div class="row flex-column flex-md-row">
                        <div class="card-body col-12 col-md-6 d-flex flex-column justify-content-center">
                            <h2 class="card-title">Contactez-Nous</h2>
                            <p class="card-text">Nous sommes là pour vous aider.</p>
                            <div class="cta-buttons">
                                <a href="/contact" class="btn btn-primary">Pour nous contacter</a>
                            </div>
                        </div>
                        <div class="col-12 col-md-6 d-flex align-items-center">
                            <img src="/images/banner/figurine-gaulois-maison.jpg" class="img-fluid rounded"
                                alt="Figurine d'un Gaulois portant une maison pour nous contacter">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>